<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Local Area Map</title>
		<link href="./css/local-area-map.css" rel="stylesheet" />
		<script src="./js/local-area-map.js" type="module"></script>
	</head>
	<body style="font-family:sans-serif; background-color:white; color:black; padding:2rem;">

		<section style="max-width:32rem; margin:0 auto;">

			<figure class="local-area-map"></figure>

			<article class="local-area-map-legend"></article>

			<script>
				window.addEventListener("DOMContentLoaded", () => {

					const localAreaMap = new LocalAreaMap({
						// options
						'showFirst': true,
						'mobileSize': "(max-width: 959px)",
						// containers
						'container': document.querySelector('.local-area-map'),
						'legend': document.querySelector('.local-area-map-legend'),
						// assets
						'thumbsUrl': './thumbnails/',
						'photosUrl': './photos/',
						'markersUrl': './img/marker-{type}.svg',
						'exifUrl': './php/imageexif.php?src=../../{src}',
						'guideUrl': './data/guide.json',
						'routeUrl': './data/route.gpx',
						'mapUrl': './photos/pxl_20240127_210532650.jpg',
						//'tilesUrl': './tiles/{z}/{x}/{y}.png',
						'tilesZoom': 15,
						/* cache
						'guideData': guide,
						'routeData': route,
						'exifData': exif,
						*/
						// templates
						'introTemplate': document.querySelector('#intro-template').innerHTML,
						'outroTemplate': document.querySelector('#outro-template').innerHTML,
						'creditsTemplate': document.querySelector('#credit-template').innerHTML,
						// events
						'checkHotspot': () => {},
						'enterHotspot': () => {},
						'leaveHotspot': () => {},
						'showPhoto': () => {}
					});

				});
			</script>

			<template id="intro-template">
				<h2>About this walk</h2>
				<time datetime="{updated}">Updated: {date}</time>
				{description}
				<p class="duration">
					It takes about {duration} hours to complete the <b>full</b> {distance} kilometre walk, but you can also <b>do shorter parts</b> of it.
				</p>
			</template>

			<template id="outro-template">
				<h3>How to prepare</h3>
				<ul>
					<li>Check the <a href="http://www.nationalparks.nsw.gov.au/alert/state-alerts">national parks website</a> for possible closures and restriction.</li>
					<li>Download the <a href="{gpx}">GPS data (GPX)</a> for your navigation device.</li>
					<li>Print out this map on paper or get one from the park's visitor centre.</li>
					<li>Always leave enough charge in your phone for emergency calls.</li>
				</ul>
			</template>

			<template id="credit-template">
				Maps &copy; <a href="http://thunderforest.com/">Thunderforest.com</a>. Data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> and contributors, CC BY-SA
			</template>

		</section>
	</body>
</html>
